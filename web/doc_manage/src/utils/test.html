<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const URL = "http://localhost:8080/docs/";

      let res = {}

      useFetch(URL)
      .then((data) => res.value=data);

      console.log(res.value);

      async function useFetch(url, ext = "", options = {}) {
        let error = {
          message: "",
          status: null,
        };

        let res = null;

        try {
          let response = await fetch(`${url}${ext}`, options);
          let data = await response.json();
          if (!response.ok) {
            error.message = data.errors;
            error.status = response.status;

            return { res, error };
          }
          res = data.data;
          error = null;

          return { res, error };
        } catch (err) {
          console.log(err);
        }
      };

      // {
      // method: 'GET',
      // headers: {
      // "Accept": "application/json",
      // 'Content-Type': 'application/json'
      // }
    </script>
  </body>
</html>
